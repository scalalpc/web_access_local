<html>
  <head>
    <script>
      var ws = new WebSocket("ws://127.0.0.1:2468/access");

      ws.onopen = function (evt) {
        console.log("Connection open ...");
        ws.send('{"sn":0,"cmd":"auth","args":"123456789"}\r\n\r\n');
      };
       
      ws.onmessage = function (event) {
              if (typeof event.data === String) {
                  console.log("Received data string");
              }
       
              if (event.data instanceof ArrayBuffer) {
                  var buffer = event.data;
                  console.log("Received arraybuffer");
              }
          console.log("Received Message: " + event.data);
      };
       
      ws.onclose = function (evt) {
          console.log("Connection closed.");
      };

      ws.onerror = function (event) {
      };

      var sn = 1;
      function sendAppRunMessage() {
        ws.send('{"sn":' + (sn++)+ ',"cmd":"app_run","args":"calc.exe"}\r\n\r\n');
      }
      function sendCpuReadInfoMessage() {
        ws.send('{"sn":' + (sn++)+ ',"cmd":"cpu_read_info"}\r\n\r\n');
      }
      function sendMacReadInfoMessage() {
        ws.send('{"sn":' + (sn++)+ ',"cmd":"mac_read_info"}\r\n\r\n');
      }
      function sendMachineReadGuidMessage() {
        ws.send('{"sn":' + (sn++)+ ',"cmd":"machine_read_guid"}\r\n\r\n');
      }
      function sendRegReadValueMessage() {
        ws.send('{"sn":' + (sn++)+ ',"cmd":"reg_read_value","args":"/HKEY_LOCAL_MACHINE/SOFTWARE/Microsoft/DataAccess,Full21Install"}\r\n\r\n');
      }
      function sendFileReadMetaMessage() {
        ws.send('{"sn":' + (sn++)+ ',"cmd":"file_read_meta","args":"D:/360Downloads/Debuggers/adplus.doc"}\r\n\r\n');
      }
      function sendFileReadDataMessage() {
        ws.send('{"sn":' + (sn++)+ ',"cmd":"file_read_data","args":"D:/360Downloads/Debuggers/license.txt"}\r\n\r\n');
      }
      function sendFileReadDataBinaryMessage() {
        ws.send('{"sn":' + (sn++)+ ',"cmd":"file_read_data_binary","args":"D:/360Downloads/Debuggers/license.txt"}\r\n\r\n');
      }
      function sendUDiskReadListMessage() {
        ws.send('{"sn":' + (sn++)+ ',"cmd":"udisk_read_list"}\r\n\r\n');
      }
    </script>
  </head>
  <body>
    <input type="button" value="send app_run" onclick="sendAppRunMessage();" />   
    <input type="button" value="send cpu_read_info" onclick="sendCpuReadInfoMessage();" />   
    <input type="button" value="send mac_read_info" onclick="sendMacReadInfoMessage();" />   
    <input type="button" value="send machine_read_guid" onclick="sendMachineReadGuidMessage();" />  
    <input type="button" value="send reg_read_value" onclick="sendRegReadValueMessage();" />   
    <input type="button" value="send file_read_meta" onclick="sendFileReadMetaMessage();" />    
    <input type="button" value="send file_read_data" onclick="sendFileReadDataMessage();" />    
    <input type="button" value="send file_read_data_binary" onclick="sendFileReadDataBinaryMessage();" />   
    <input type="button" value="send udisk_read_list" onclick="sendUDiskReadListMessage();" />   
  </body>
</html>
